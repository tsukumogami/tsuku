{
  "pr_status": "implementing",
  "design_doc": "docs/designs/DESIGN-structured-error-subcategories.md",
  "branch": "docs/structured-error-subcategories",
  "pr_number": 1854,
  "integrity_hash": "sha256:efb45e62d9e0cc39b95bf4aea62e174f0674fb8f7230687b46f76cc8bcaa22de",
  "issues": [
    {
      "number": 1856,
      "title": "feat(cli): add subcategory to install error JSON output",
      "status": "completed",
      "ci_status": "passed",
      "ci_fix_attempts": 0,
      "issue_type": "code",
      "dependencies": [],
      "commits": [
        "52f6b6fa68e38051e0c66f1b3101037a4cd57713"
      ],
      "agent_type": "coder",
      "summary": {
        "narrative": "",
        "files_changed": [
          "cmd/tsuku/install.go",
          "cmd/tsuku/install_test.go"
        ],
        "tests_added": 3,
        "key_decisions": "Split the multi-case network error branch into individual cases per error type to return distinct subcategory strings",
        "requirements_map": [
          {
            "ac": "classifyInstallError returns (int, string)",
            "status": "implemented"
          },
          {
            "ac": "Subcategory field added to installError struct",
            "status": "implemented"
          },
          {
            "ac": "handleInstallError populates Subcategory",
            "status": "implemented"
          },
          {
            "ac": "omitempty behavior correct",
            "status": "implemented"
          }
        ]
      },
      "reviewer_results": {
        "issue": 1856,
        "reviewers": [
          {
            "focus": "pragmatic",
            "blocking_count": 0,
            "advisory_count": 1,
            "detail_file": "wip/research/implement-doc_review_pragmatic_issue1856.md"
          },
          {
            "focus": "architect",
            "blocking_count": 0,
            "advisory_count": 1,
            "detail_file": "wip/research/implement-doc_review_architect_issue1856.md"
          },
          {
            "focus": "maintainer",
            "blocking_count": 0,
            "advisory_count": 2,
            "detail_file": "wip/research/implement-doc_review_maintainer_issue1856.md"
          }
        ]
      },
      "testable_scenarios": [
        "scenario-1",
        "scenario-2",
        "scenario-3",
        "scenario-4"
      ]
    },
    {
      "number": 1857,
      "title": "feat(batch): normalize pipeline categories and add subcategory passthrough",
      "status": "completed",
      "ci_status": "passed",
      "ci_fix_attempts": 0,
      "issue_type": "code",
      "dependencies": [
        1856
      ],
      "commits": [
        "4a236dcf042efd5a0c2106c923304cde0b65f4fe"
      ],
      "agent_type": "coder",
      "summary": {
        "narrative": "",
        "files_changed": [
          "internal/batch/orchestrator.go",
          "internal/batch/orchestrator_test.go",
          "internal/batch/results.go",
          "data/schemas/failure-record.schema.json"
        ],
        "tests_added": 4,
        "key_decisions": "parseInstallJSON() now returns three values (category, subcategory, blockedBy). The CLI category field is completely ignored for pipeline categories.",
        "requirements_map": [
          {
            "ac": "categoryFromExitCode canonical taxonomy",
            "status": "implemented"
          },
          {
            "ac": "parseInstallJSON uses categoryFromExitCode not CLI category",
            "status": "implemented"
          },
          {
            "ac": "subcategory extracted from CLI JSON",
            "status": "implemented"
          },
          {
            "ac": "FailureRecord has Subcategory field",
            "status": "implemented"
          },
          {
            "ac": "generate() fallback uses network_error",
            "status": "implemented"
          },
          {
            "ac": "schema updated with canonical enum and subcategory",
            "status": "implemented"
          },
          {
            "ac": "all tests updated and passing",
            "status": "implemented"
          }
        ]
      },
      "reviewer_results": {
        "issue": 1857,
        "reviewers": [
          {
            "focus": "pragmatic",
            "blocking_count": 0,
            "advisory_count": 0,
            "detail_file": "wip/research/implement-doc_review_pragmatic_issue1857.md"
          },
          {
            "focus": "architect",
            "blocking_count": 0,
            "advisory_count": 1,
            "detail_file": "wip/research/implement-doc_review_architect_issue1857.md"
          },
          {
            "focus": "maintainer",
            "blocking_count": 0,
            "advisory_count": 3,
            "detail_file": "wip/research/implement-doc_review_maintainer_issue1857.md"
          }
        ]
      },
      "testable_scenarios": [
        "scenario-5",
        "scenario-6",
        "scenario-7",
        "scenario-8",
        "scenario-9"
      ]
    },
    {
      "number": 1858,
      "title": "fix(ci): align batch workflow category names with canonical taxonomy",
      "status": "completed",
      "ci_status": "passed",
      "ci_fix_attempts": 0,
      "issue_type": "code",
      "dependencies": [
        1857
      ],
      "commits": [
        "5d8a7f046d61e2e237b408a0ccb4cff59a4879ce"
      ],
      "agent_type": "coder",
      "summary": {
        "narrative": "",
        "files_changed": [
          ".github/workflows/batch-generate.yml"
        ],
        "tests_added": 0,
        "key_decisions": "YAML-only change: updated jq category mapping to use canonical taxonomy names (deterministic-\u003egeneration_failed, network-\u003enetwork_error, timeout-\u003enetwork_error)",
        "requirements_map": [
          {
            "ac": "jq uses canonical category names",
            "status": "implemented"
          },
          {
            "ac": "exit codes 124/137 map to network_error",
            "status": "implemented"
          },
          {
            "ac": "old standalone category names removed",
            "status": "implemented"
          }
        ]
      },
      "reviewer_results": {
        "issue": 1858,
        "reviewers": [
          {
            "focus": "pragmatic",
            "blocking_count": 0,
            "advisory_count": 0,
            "detail_file": "wip/research/implement-doc_review_pragmatic_issue1858.md"
          },
          {
            "focus": "architect",
            "blocking_count": 0,
            "advisory_count": 0,
            "detail_file": "wip/research/implement-doc_review_architect_issue1858.md"
          },
          {
            "focus": "maintainer",
            "blocking_count": 0,
            "advisory_count": 1,
            "detail_file": "wip/research/implement-doc_review_maintainer_issue1858.md"
          }
        ]
      },
      "testable_scenarios": [
        "scenario-10"
      ]
    },
    {
      "number": 1859,
      "title": "feat(dashboard): read structured subcategories with category remap fallback",
      "status": "scrutinized",
      "ci_status": "pending",
      "ci_fix_attempts": 0,
      "issue_type": "code",
      "dependencies": [
        1857
      ],
      "commits": [
        "7d2a5fd46f953848e2aa939858c39cc05c4b63da"
      ],
      "agent_type": "coder",
      "summary": {
        "narrative": "",
        "files_changed": [
          "internal/dashboard/dashboard.go",
          "internal/dashboard/dashboard_test.go",
          "internal/dashboard/failures.go",
          "internal/dashboard/failures_test.go"
        ],
        "tests_added": 5,
        "key_decisions": "Placed remapCategory() in failures.go alongside extractSubcategory(). Applied remap in both loadFailures() and loadFailureDetailsFromFile() for consistency. Conditional extractSubcategory() only called when structured subcategory is absent.",
        "requirements_map": [
          {
            "ac": "remapCategory translates old category strings",
            "status": "implemented"
          },
          {
            "ac": "Subcategory field added to FailureRecord and PackageFailure",
            "status": "implemented"
          },
          {
            "ac": "loadFailureDetailsFromFile reads subcategory from both formats",
            "status": "implemented"
          },
          {
            "ac": "remap applies in both loadFailures and loadFailureDetailsFromFile",
            "status": "implemented"
          },
          {
            "ac": "extractSubcategory conditional - only called when subcategory empty",
            "status": "implemented"
          },
          {
            "ac": "structured subcategory preserved without heuristic override",
            "status": "implemented"
          },
          {
            "ac": "backward compat - records without subcategory get heuristic extraction",
            "status": "implemented"
          }
        ]
      },
      "testable_scenarios": [
        "scenario-11",
        "scenario-12",
        "scenario-13",
        "scenario-14"
      ]
    }
  ],
  "skipped_issues": null,
  "test_plan_file": "wip/implement-doc_structured-error-subcategories_test_plan.md"
}

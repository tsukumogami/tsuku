{
  "design_doc": "docs/designs/DESIGN-gpu-backend-selection.md",
  "branch": "docs/gpu-backend-selection",
  "pr_number": 1770,
  "integrity_hash": "sha256:7d42133ae296150ba032b09d36688d8cc1ef80075b6b5968f389d75d6f9385d0",
  "issues": [
    {
      "number": 1773,
      "title": "feat(platform): add GPU vendor detection via PCI sysfs",
      "status": "completed",
      "ci_status": "passed",
      "ci_fix_attempts": 0,
      "issue_type": "code",
      "dependencies": [],
      "commits": [
        "11368f2749e89b2e1b08c6bc6cc22280b9768747"
      ],
      "agent_type": "coder",
      "summary": {
        "narrative": "",
        "files_changed": [],
        "tests_added": 14,
        "key_decisions": "Used SetGPU() value-receiver method on Target for test convenience. Added GPU field to PlanConfig. Production callsites via DetectTarget() get GPU detection automatically. Manual target constructors pass empty GPU string."
      },
      "reviewer_results": {
        "issue": 1773,
        "reviews": [
          {
            "focus": "pragmatic",
            "blocking_count": 0,
            "advisory_count": 4,
            "detail_file": "wip/research/implement-doc_review_pragmatic_issue1773.md",
            "summary": "No blocking findings. Implementation is correct, follows libc pattern closely. Advisory: ValidGPUTypes/SetGPU/PlanConfig.GPU exported but no production callers yet (intended for downstream issues)."
          },
          {
            "focus": "architect",
            "blocking_count": 0,
            "advisory_count": 2,
            "detail_file": "wip/research/implement-doc_review_architect_issue1773.md",
            "summary": "No blocking findings. Follows libc detection pattern exactly. Advisory: manual target constructors pass empty GPU (correct today, #1775 will wire real values)."
          },
          {
            "focus": "maintainer",
            "blocking_count": 1,
            "advisory_count": 4,
            "detail_file": "wip/research/implement-doc_review_maintainer_issue1773.md",
            "summary": "One blocking finding: depCfg in plan_generator.go:747 omits GPU (and LinuxFamily). DISPOSITION: Already tracked in #1775 (refactor: thread GPU through plan generation), which explicitly depends on #1773. Not a regression - pre-existing gap. Advisory: SetGPU naming (WithGPU preferred), ValidGPUTypes/pciVendorToGPU disconnect risk, executor.go:132 empty GPU."
          }
        ],
        "disposition": "pass",
        "disposition_rationale": "Maintainer blocking finding (depCfg GPU propagation) is already tracked in #1775 which depends on #1773. Not a regression introduced by this change."
      },
      "testable_scenarios": [
        "scenario-1",
        "scenario-2",
        "scenario-3",
        "scenario-4"
      ]
    },
    {
      "number": 1774,
      "title": "feat(recipe): add gpu field to WhenClause",
      "status": "completed",
      "ci_status": "passed",
      "ci_fix_attempts": 0,
      "issue_type": "code",
      "dependencies": [
        1773
      ],
      "commits": [
        "ccfec662ffa8d47b96ed3fe90acdf2150b2e27d3"
      ],
      "agent_type": "coder",
      "summary": {
        "narrative": "",
        "files_changed": [
          "internal/recipe/types.go",
          "internal/recipe/platform.go",
          "internal/recipe/types_test.go",
          "internal/recipe/when_test.go"
        ],
        "tests_added": 27,
        "key_decisions": "Followed the existing Libc pattern exactly for GPU. Added GPU field to Constraint struct for downstream #1775 to use during plan generation. MergeWhenClause propagates single-value GPU to Constraint (matching single-value OS behavior) but skips conflict detection since GPU is a filter, not a hard constraint. GPU validation uses platform.ValidGPUTypes for consistency."
      },
      "reviewer_results": {
        "issue": 1774,
        "reviews": [
          {
            "focus": "pragmatic",
            "blocking_count": 0,
            "advisory_count": 2,
            "detail_file": "wip/research/implement-doc_review_pragmatic_issue1774.md",
            "summary": "Clean. Follows libc pattern exactly. MergeWhenClause multi-value behavior is correct."
          },
          {
            "focus": "architect",
            "blocking_count": 0,
            "advisory_count": 2,
            "detail_file": "wip/research/implement-doc_review_architect_issue1774.md",
            "summary": "Clean. GPU field follows established pattern across all touchpoints. Empty GPU in executor/info callsites is consistent with other empty dimensions."
          },
          {
            "focus": "maintainer",
            "blocking_count": 0,
            "advisory_count": 2,
            "detail_file": "wip/research/implement-doc_review_maintainer_issue1774.md",
            "summary": "Clean. Advisory: GPU check has no OS gate (correct but undocumented), MergeWhenClause multi-value comment could be clearer."
          }
        ],
        "disposition": "pass"
      },
      "testable_scenarios": [
        "scenario-5",
        "scenario-6",
        "scenario-7",
        "scenario-8"
      ]
    },
    {
      "number": 1775,
      "title": "refactor(executor): thread GPU through plan generation",
      "status": "completed",
      "ci_status": "passed",
      "ci_fix_attempts": 0,
      "issue_type": "code",
      "dependencies": [
        1773,
        1774
      ],
      "commits": [
        "5eb4d94f3cd07f0601d15947dcf166fdd582f20e"
      ],
      "agent_type": "coder",
      "summary": {
        "narrative": "",
        "files_changed": [
          "internal/executor/plan_generator.go",
          "internal/executor/plan_generator_test.go",
          "internal/executor/executor.go",
          "internal/executor/filter_test.go"
        ],
        "tests_added": 11,
        "key_decisions": "Auto-detect GPU by mutating cfg.GPU so the value propagates to generateDependencyPlans() and depCfg without additional plumbing. Fixed pre-existing LinuxFamily gap in depCfg alongside the GPU propagation. The shouldExecute() runtime path now calls DetectGPU() directly since it lacks access to PlanConfig."
      },
      "reviewer_results": {
        "issue": 1775,
        "reviews": [
          {
            "focus": "pragmatic",
            "blocking_count": 0,
            "advisory_count": 2,
            "detail_file": "wip/research/implement-doc_review_pragmatic_issue1775.md",
            "summary": "Clean. Minimal implementation (~6 lines of production code). cfg.GPU mutation is the simplest correct threading strategy."
          },
          {
            "focus": "architect",
            "blocking_count": 0,
            "advisory_count": 2,
            "detail_file": "wip/research/implement-doc_review_architect_issue1775.md",
            "summary": "Clean. GPU threads through pipeline without parallel patterns. depCfg propagation closes the #1773 gap. eval.go --gpu flag is future work."
          },
          {
            "focus": "maintainer",
            "blocking_count": 1,
            "advisory_count": 4,
            "detail_file": "wip/research/implement-doc_review_maintainer_issue1775.md",
            "summary": "One blocking: cfg.GPU mutation vs linuxFamily local variable inconsistency. FIXED: added clarifying comment explaining mutation is intentional for depCfg propagation."
          }
        ],
        "disposition": "pass",
        "disposition_rationale": "Maintainer blocking finding (comment clarity) fixed by amending the commit with a clarifying comment."
      },
      "testable_scenarios": [
        "scenario-9",
        "scenario-10"
      ]
    },
    {
      "number": 1789,
      "title": "feat(recipe): add nvidia-driver and cuda-runtime dependency recipes",
      "status": "completed",
      "ci_status": "passed",
      "ci_fix_attempts": 0,
      "issue_type": "code",
      "dependencies": [],
      "commits": [
        "81c2802328707d891208fac624d97ee0943cbad8"
      ],
      "agent_type": "coder",
      "summary": {
        "narrative": "",
        "files_changed": [
          "recipes/n/nvidia-driver.toml",
          "recipes/c/cuda-runtime.toml",
          "recipes/c/cuda.toml"
        ],
        "tests_added": 0,
        "key_decisions": "Pure TOML recipe files. cuda-runtime uses NVIDIA redistributable CDN URLs with pinned version 12.6.77. nvidia-driver verify uses mode=output since versioning is system-PM-managed. Cross-reference added in existing cuda.toml."
      },
      "reviewer_results": {
        "issue": 1789,
        "reviews": [
          {
            "focus": "pragmatic",
            "blocking_count": 0,
            "advisory_count": 2,
            "detail_file": "wip/research/implement-doc_review_pragmatic_issue1789.md"
          },
          {
            "focus": "architect",
            "blocking_count": 0,
            "advisory_count": 2,
            "detail_file": "wip/research/implement-doc_review_architect_issue1789.md"
          },
          {
            "focus": "maintainer",
            "blocking_count": 0,
            "advisory_count": 3,
            "detail_file": "wip/research/implement-doc_review_maintainer_issue1789.md"
          }
        ],
        "disposition": "pass"
      },
      "testable_scenarios": [
        "scenario-11",
        "scenario-12"
      ]
    },
    {
      "number": 1790,
      "title": "feat(recipe): add mesa-vulkan-drivers and vulkan-loader dependency recipes",
      "status": "pushed",
      "ci_status": "pending",
      "ci_fix_attempts": 0,
      "issue_type": "code",
      "dependencies": [],
      "commits": [
        "4914eb15969f5d773c41a677d02694d309b4b330"
      ],
      "agent_type": "coder",
      "summary": {
        "narrative": "",
        "files_changed": [
          "recipes/m/mesa-vulkan-drivers.toml",
          "recipes/v/vulkan-loader.toml"
        ],
        "tests_added": 0,
        "key_decisions": "Pure TOML recipe files. Followed nvidia-driver.toml and docker.toml patterns. mesa-vulkan-drivers verify uses ls on ICD JSON directories. vulkan-loader verify uses ldconfig -p for libvulkan. vulkan-loader depends on mesa-vulkan-drivers."
      },
      "reviewer_results": {
        "issue": 1790,
        "reviews": [
          {
            "focus": "pragmatic",
            "blocking_count": 0,
            "advisory_count": 3,
            "detail_file": "wip/research/implement-doc_review_pragmatic_issue1790.md"
          },
          {
            "focus": "architect",
            "blocking_count": 0,
            "advisory_count": 0,
            "detail_file": "wip/research/implement-doc_review_architect_issue1790.md"
          },
          {
            "focus": "maintainer",
            "blocking_count": 0,
            "advisory_count": 3,
            "detail_file": "wip/research/implement-doc_review_maintainer_issue1790.md"
          }
        ],
        "disposition": "pass"
      },
      "testable_scenarios": [
        "scenario-13"
      ]
    },
    {
      "number": 1791,
      "title": "fix(ci): align tsuku-llm release artifacts with recipe asset patterns",
      "status": "pending",
      "ci_status": "pending",
      "ci_fix_attempts": 0,
      "issue_type": "",
      "dependencies": [],
      "commits": [],
      "agent_type": "",
      "summary": null,
      "testable_scenarios": []
    },
    {
      "number": 1776,
      "title": "feat(recipe): add tsuku-llm recipe with GPU-filtered variant selection",
      "status": "pending",
      "ci_status": "pending",
      "ci_fix_attempts": 0,
      "issue_type": "",
      "dependencies": [
        1775,
        1789,
        1790,
        1791
      ],
      "commits": [],
      "agent_type": "",
      "summary": null,
      "testable_scenarios": [
        "scenario-14"
      ]
    },
    {
      "number": 1777,
      "title": "feat(llm): add llm.backend config key",
      "status": "pending",
      "ci_status": "pending",
      "ci_fix_attempts": 0,
      "issue_type": "",
      "dependencies": [],
      "commits": [],
      "agent_type": "",
      "summary": null,
      "testable_scenarios": [
        "scenario-15"
      ]
    },
    {
      "number": 1792,
      "title": "test(ci): add recipe validation for GPU when clauses and dependency chains",
      "status": "pending",
      "ci_status": "pending",
      "ci_fix_attempts": 0,
      "issue_type": "",
      "dependencies": [
        1774,
        1789,
        1790
      ],
      "commits": [],
      "agent_type": "",
      "summary": null,
      "testable_scenarios": [
        "scenario-16"
      ]
    },
    {
      "number": 1778,
      "title": "refactor(llm): migrate addon from embedded manifest to recipe system",
      "status": "pending",
      "ci_status": "pending",
      "ci_fix_attempts": 0,
      "issue_type": "",
      "dependencies": [
        1776,
        1777
      ],
      "commits": [],
      "agent_type": "",
      "summary": null,
      "testable_scenarios": [
        "scenario-17",
        "scenario-18",
        "scenario-19",
        "scenario-20"
      ]
    },
    {
      "number": 1779,
      "title": "feat(llm): add structured error for backend init failure",
      "status": "pending",
      "ci_status": "pending",
      "ci_fix_attempts": 0,
      "issue_type": "",
      "dependencies": [],
      "commits": [],
      "agent_type": "",
      "summary": null,
      "testable_scenarios": []
    },
    {
      "number": 1780,
      "title": "test(llm): validate GPU variant performance on shipped models",
      "status": "pending",
      "ci_status": "pending",
      "ci_fix_attempts": 0,
      "issue_type": "",
      "dependencies": [
        1776
      ],
      "commits": [],
      "agent_type": "",
      "summary": null,
      "testable_scenarios": [
        "scenario-21"
      ]
    },
    {
      "number": 1786,
      "title": "test(recipe): validate tsuku-llm recipe against release pipeline and document user experience",
      "status": "pending",
      "ci_status": "pending",
      "ci_fix_attempts": 0,
      "issue_type": "",
      "dependencies": [
        1776
      ],
      "commits": [],
      "agent_type": "",
      "summary": null,
      "testable_scenarios": [
        "scenario-22"
      ]
    }
  ],
  "skipped_issues": null,
  "test_plan_file": null
}

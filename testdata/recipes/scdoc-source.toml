# Ground truth recipe for scdoc (source build with meson)
# Tests: download_file + extract + meson_build
# scdoc is a simple tool for generating man pages from scdoc syntax

[metadata]
name = "scdoc-source"
description = "Tool for generating roff manual pages (source build for testing)"
homepage = "https://git.sr.ht/~sircmpwn/scdoc"

[version]
source = "static"
value = "1.11.3"

[[steps]]
action = "download_file"
url = "https://git.sr.ht/~sircmpwn/scdoc/archive/1.11.3.tar.gz"
dest = "scdoc-1.11.3.tar.gz"
checksum = "4c5c6136540384e5455b250f768e7ca11b03fdba1a8efc2341ee0f1111b57612"

[[steps]]
action = "extract"
archive = "scdoc-1.11.3.tar.gz"
format = "tar.gz"
strip_dirs = 1

[[steps]]
action = "meson_build"
source_dir = "."
executables = ["scdoc"]
buildtype = "release"

[verify]
command = "scdoc -v"
pattern = "scdoc {version}"

[metadata]
name = "ca-certificates"
description = "Mozilla CA certificate store"
homepage = "https://curl.se/docs/caextract.html"
type = "library"

# glibc Linux: System package (no Homebrew Linux bottle exists for this formula)
[[steps]]
action = "apt_install"
packages = ["ca-certificates"]
when = { os = ["linux"], libc = ["glibc"] }

# musl Linux: Alpine package
[[steps]]
action = "apk_install"
packages = ["ca-certificates"]
when = { os = ["linux"], libc = ["musl"] }

# macOS: Homebrew
[[steps]]
action = "homebrew"
formula = "ca-certificates"
when = { os = ["darwin"] }

[[steps]]
action = "install_binaries"
install_mode = "directory"
outputs = [
    "share/ca-certificates/cacert.pem",
]
when = { os = ["darwin"] }

# Go - The Go Programming Language
# Official site: https://go.dev/
# NOTE: Uses GitHub for version detection, downloads from go.dev/dl

[metadata]
name = "golang"
description = "The Go programming language compiler and tools"
homepage = "https://go.dev/"
version_format = "semver"

[version]
github_repo = "golang/go"  # Detect version from GitHub releases

[[steps]]
action = "download_archive"
url = "https://go.dev/dl/go{version}.{os}-{arch}.tar.gz"
strip_dirs = 1
binaries = ["bin/go", "bin/gofmt"]
install_mode = "directory"
os_mapping = { darwin = "darwin", linux = "linux" }
arch_mapping = { amd64 = "amd64", arm64 = "arm64" }

[verify]
command = "go version"
pattern = "go{version}"

[[verify.additional]]
command = "gofmt -h"
pattern = "usage: gofmt"

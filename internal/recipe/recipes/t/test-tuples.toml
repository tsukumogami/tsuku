[metadata]
name = "test-tuples"
description = "Test recipe demonstrating platform tuple support"
homepage = "https://www.docker.com"
version_format = "semver"

supported_os = ["linux", "darwin"]
supported_arch = ["amd64", "arm64"]

# macOS: Install Docker Desktop via Homebrew Cask (both Intel and Apple Silicon)
[[steps]]
action = "brew_cask"
packages = ["docker"]

# Debian/Ubuntu: Install docker.io from system repos
[[steps]]
action = "apt_install"
packages = ["docker.io"]

# RHEL/Fedora: Install moby-engine from system repos
[[steps]]
action = "dnf_install"
packages = ["moby-engine"]

# Arch Linux: Install docker from system repos
[[steps]]
action = "pacman_install"
packages = ["docker"]

# Alpine: Install docker from system repos
[[steps]]
action = "apk_install"
packages = ["docker"]

# SUSE/openSUSE: Install docker from system repos
[[steps]]
action = "zypper_install"
packages = ["docker"]

# Verify docker is available
[[steps]]
action = "require_command"
command = "docker"

[verify]
command = "docker --version"
pattern = "Docker version {version}"

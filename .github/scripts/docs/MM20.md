# MM20: Parent-child Mermaid consistency

An issue node's Mermaid class does not match the lifecycle status of its child design document.

## Rules

When an issue has a child reference row (`^_Child: [DESIGN-name.md](path)_`), the referenced child design doc's frontmatter status determines the required Mermaid class:

| Child Design Status | Required Parent Class | Required Strikethrough |
|--------------------|-----------------------|----------------------|
| Proposed | `tracksDesign` | No |
| Accepted | `tracksDesign` | No |
| Planned | `tracksDesign` | No |
| Current | `done` | Yes |
| Superseded | `needsDesign` | No |

## Why This Matters

The parent design doc's Mermaid diagram should reflect the current state of each child design. A `tracksDesign` node means the child design is still in progress. When the child reaches Current, the parent node should be marked done. When a child is Superseded, the parent reverts to needing a new design.

## How to Fix

Update the parent node's class to match the child design's status:

**Child is Planned (correct):**
```
class I123 tracksDesign
```

**Child is Current (correct):**
```
class I123 done
```
And strike through the issue row, child reference row, and description row.

**Child is Superseded (correct):**
```
class I123 needsDesign
```
And remove the child reference row.

## Cross-repo References

Child design references that point outside the current repository (absolute URLs or paths above the repo root) emit a warning but do not fail this check.

## Related Rules

- MM21: tracksDesign nodes must have child reference rows
- II06: Child design reference links must point to existing files
